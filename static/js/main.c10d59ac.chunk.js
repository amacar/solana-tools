(this["webpackJsonpsolana-tools"]=this["webpackJsonpsolana-tools"]||[]).push([[0],{139:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(20),r=a(9),c=a(0),s=a(140),i=a.n(s),o=a(28),l=a.n(o),u=a(59),j=a(97),b=a(3),d=function(){var t=Object(c.useState)("byteArray"),a=Object(r.a)(t,2),n=a[0],s=a[1],o=Object(c.useState)("signed message"),d=Object(r.a)(o,2),x=d[0],h=d[1],g=Object(c.useState)("N6ywVtXEfm8CsAQasaGAG4aeN7LLNDMtrh88Q1uHscg"),m=Object(r.a)(g,2),v=m[0],y=m[1],p=Object(c.useState)("[23,42,195,185,112,68,99,252,236,27,75,72,221,64,175,196,73,151,46,54,187,214,123,110,51,187,183,179,141,153,17,74,221,101,254,245,175,101,40,80,60,61,54,37,191,134,134,248,40,86,126,215,42,252,200,50,181,28,197,181,63,237,222,13]"),S=Object(r.a)(p,2),w=S[0],C=S[1],A=!1;try{var B=e.from(x),M=l.a.decode(v),V=O(n,B),F=f(n,w);A=V.some((function(e){try{return i.a.sign.detached.verify(e,F,M)}catch(t){return!1}}))}catch(k){}return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{multiline:!0,label:"Message",value:x,setValue:h}),Object(b.jsx)(u.a,{label:"SOL Address",value:v,setValue:y}),Object(b.jsx)(u.a,{multiline:!0,minRows:4,label:"Signature",value:w,setValue:C}),Object(b.jsx)(j.a,{sigFormat:n,onSigFormatChange:function(e){return s(e.target.value)}}),Object(b.jsx)("div",{style:{textAlign:"center",marginTop:"35px"},children:Object(b.jsxs)("span",{style:{backgroundColor:A?"#2e7d32":"#d32f2f",color:"white",borderRadius:"20px",padding:"15px",fontWeight:"bold",fontSize:"x-large"},children:["Signature is ",!A&&"not "," verified!"]})})]})},f=function(t,a){switch(t){case"base58":return l.a.decode(a);case"base64":return e.from(a,t);case"hex":return e.from(a.replace("0x",""),t);case"byteArray":return e.from(JSON.parse(a),"hex")}},O=function(t,a){var r=e.from(a),c=[r];if("base58"===t){var s=e.concat([e.from(["0xff"]),e.from("solana offchain")]),i=e.from([0]),o=[e.from([0]),e.from([1]),e.from([2])],l=e.from(new Uint8Array(new Uint16Array([r.length]).buffer));c.push.apply(c,Object(n.a)(o.map((function(t){return e.concat([s,i,t,l,r])}))))}return c}}).call(this,a(19).Buffer)},143:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var n=a(12),r=a(2),c=a(5),s=a(9),i=a(0),o=a(28),l=a.n(o),u=a(220),j=a(219),b=a(222),d=a(124),f=a(218),O=a(59),x=a(97),h=a(3),g={marginBottom:"15px",width:"100%"},m=function(){var t=Object(d.b)(),a=t.publicKey,o=t.signMessage,l=Object(i.useState)("byteArray"),m=Object(s.a)(l,2),y=m[0],p=m[1],S=Object(i.useState)("signed message"),w=Object(s.a)(S,2),C=w[0],A=w[1],B=Object(i.useState)(null),M=Object(s.a)(B,2),V=M[0],F=M[1],k=Object(i.useState)(""),N=Object(s.a)(k,2),J=N[0],L=N[1],R=Object(i.useState)(""),W=Object(s.a)(R,2),D=W[0],E=W[1],H=Object(i.useState)(!1),G=Object(s.a)(H,2),I=G[0],Q=G[1],U=function(){var t=Object(c.a)(Object(r.a)().mark((function t(){var a,n,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.from(C),Q(!0),t.next=5,o(a,"utf8");case 5:n=t.sent,c=e.from(n).toJSON().data,F(c),z(y,c),K(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),E(t.t0.message);case 15:return t.prev=15,Q(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})));return function(){return t.apply(this,arguments)}}(),z=function(t,a){var n=e.from(a);L(v(t,n))},K=function(){return E("")};return Object(h.jsxs)("div",{children:[Object(h.jsx)(u.a,{open:!!D,autoHideDuration:6e4,message:D,onClose:K}),a?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.a,{multiline:!0,label:"Message",value:C,setValue:function(e){A(e),F(null),K()}}),Object(h.jsx)(O.a,{disabled:!0,label:"SOL Address",value:a}),Object(h.jsx)(b.a,{style:Object(n.a)(Object(n.a)({},g),{},{marginBottom:"45px"}),variant:"contained",disabled:!C||I,onClick:U,children:I?"Confirm Sign Message...":"Sign Message"}),V&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.a,{disabled:!0,multiline:!0,minRows:4,label:"Signature",value:J,setValue:F}),Object(h.jsx)(x.a,{sigFormat:y,onSigFormatChange:function(e){var t=e.target.value;p(t),V&&z(t,V)}})]})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)(f.a,{style:g}),Object(h.jsx)(j.a,{severity:"error",children:"Please connect to the wallet first!"})]})]})},v=function(e,t){switch(e){case"base58":return l.a.encode(t);case"base64":return t.toString("base64");case"hex":return"0x".concat(t.toString("hex"));case"byteArray":return JSON.stringify(t.toJSON().data)}}}).call(this,a(19).Buffer)},145:function(e,t){},149:function(e,t){},175:function(e,t,a){},181:function(e,t){},196:function(e,t){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(43),c=a.n(r),s=(a(175),a(9)),i=a(288),o=a(281),l=a(277),u=a(289),j=a(279),b=a(272),d=a(273),f=a(280),O=a(274),x=a(3),h={backgroundColor:"#282c34",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",position:"relative",width:"100%",textAlign:"center"},g=function(){return Object(x.jsx)("header",{style:h,children:Object(x.jsx)("h1",{children:"Solana Sign / Verify Message"})})},m=a(139),v=a(143),y="/#sign-message",p="/#verify-message",S=new RegExp("(".concat(y,"|").concat(p,")")),w=function(e){var t=e.children,a=e.value,n=e.index;return Object(x.jsx)(x.Fragment,{children:a===n&&Object(x.jsx)(i.a,{sx:{p:3},children:t})})},C=[new b.a,new d.a,new f.a],A=function(){var e=window.location.href.includes(p),t=Object(n.useState)(e?1:0),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(x.jsx)(j.a,{wallets:C,autoConnect:!0,children:Object(x.jsxs)(O.a,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(o.a,{style:{maxWidth:"700px"},children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)(i.a,{sx:{borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"center"},children:Object(x.jsxs)(l.a,{value:r,onChange:function(e,t){c(t);var a=window.location.href.replace(/\/$/,""),n="".concat(a.replace(S,"")).concat(t?p:y);window.history.replaceState({},"",n)},children:[Object(x.jsx)(u.a,{style:{fontWeight:"bold"},label:"Sign Message"}),Object(x.jsx)(u.a,{style:{fontWeight:"bold"},label:"Verify Message"})]})}),Object(x.jsxs)(i.a,{children:[Object(x.jsx)(w,{value:r,index:0,children:Object(x.jsx)(v.a,{})}),Object(x.jsx)(w,{value:r,index:1,children:Object(x.jsx)(m.a,{})})]})]})})]})})},B=document.getElementById("root");c.a.render(Object(x.jsx)(n.StrictMode,{children:Object(x.jsx)(A,{})}),B)},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(12),r=a(27),c=a(217),s=a(3),i=["label","value","setValue","multiline"],o={marginBottom:"15px",width:"100%"},l=function(e){var t=e.label,a=e.value,l=e.setValue,u=e.multiline,j=void 0!==u&&u,b=Object(r.a)(e,i);return Object(s.jsx)(c.a,Object(n.a)(Object(n.a)({},b),{},{multiline:j,value:a,style:o,label:t,variant:"outlined",onChange:function(e){return l(e.target.value)}}))}},97:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(223),r=a(215),c=a(221),s=a(109),i=a(108),o=a(3),l=function(e){var t=e.sigFormat,a=e.onSigFormatChange;return Object(o.jsxs)(n.a,{children:[Object(o.jsx)(r.a,{children:"Signature format"}),Object(o.jsxs)(c.a,{row:!0,value:t,onChange:a,children:[Object(o.jsx)(s.a,{value:"byteArray",control:Object(o.jsx)(i.a,{}),label:"Byte Array"}),Object(o.jsx)(s.a,{value:"hex",control:Object(o.jsx)(i.a,{}),label:"Hex"}),Object(o.jsx)(s.a,{value:"base58",control:Object(o.jsx)(i.a,{}),label:"Base58"}),Object(o.jsx)(s.a,{value:"base64",control:Object(o.jsx)(i.a,{}),label:"Base64"})]})]})}}},[[208,1,2]]]);
//# sourceMappingURL=main.c10d59ac.chunk.js.map